# ๐ ุชุญุฏูุซ ุตูุญุฉ ุจูู ุงูุฃุณุฆูุฉ ูุงุณุชุฎุฏุงู API

## โ ูุง ุชู ุฅูุฌุงุฒู

### ๐ **ุงุณุชุจุฏุงู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ ุจู API:**

ุชู ุชุญุฏูุซ ุตูุญุฉ ุจูู ุงูุฃุณุฆูุฉ ูุงุณุชุฎุฏุงู ุงูู API endpoint `/api/questions` ุจุฏูุงู ูู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ.

---

## ๐ **ุงูููุงุฑูุฉ: ูุจู ูุจุนุฏ**

### โ **ูุจู ุงูุชุญุฏูุซ (ุจูุงูุงุช ุซุงุจุชุฉ):**
```typescript
// ุงุณุชุฎุฏุงู ุจูุงูุงุช ุซุงุจุชุฉ ูู src/data/index.ts
const stats = [
  { label: "ุฅุฌูุงูู ุงูุฃุณุฆูุฉ", value: "1,234" },
  { label: "ุงูุฃุณุฆูุฉ ุงููุดุทุฉ", value: "1,156" },
  // ...
];

const subjects = [
  { name: "ุชูููููุฌูุง ูุนูููุงุช", questions: 156, tests: 12 },
  // ...
];
```

### โ **ุจุนุฏ ุงูุชุญุฏูุซ (API Integration):**
```typescript
// ุงุณุชุฎุฏุงู API endpoints
const { data: questions = [], isLoading, error } = useGetQuestionsQuery();
const { data: stats } = useGetQuestionsStatsQuery();

// ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ูู ุงูุจูุงูุงุช ุงูุญููููุฉ
const calculatedStats = [
  { 
    label: "ุฅุฌูุงูู ุงูุฃุณุฆูุฉ", 
    value: stats?.total?.toString() || questions.length.toString() 
  },
  // ...
];
```

---

## ๐ **ุงููููุงุช ุงูุฌุฏูุฏุฉ:**

### 1. **`src/lip/features/questions/questionsApi.ts`** โ
- **ุงููุธููุฉ:** API slice ููุฃุณุฆูุฉ ุจุงุณุชุฎุฏุงู RTK Query
- **ุงููุญุชูู:** 
  - Interfaces ููุฃุณุฆูุฉ ูุงูุฎูุงุฑุงุช
  - Enums ูุฃููุงุน ุงูุฃุณุฆูุฉ ูุงูุตุนูุจุฉ ูุงูููุงุฑุฉ
  - API endpoints ููู CRUD operations
  - ุฅุญุตุงุฆูุงุช ุงูุฃุณุฆูุฉ

### 2. **ุชุญุฏูุซ `src/lip/store.ts`** โ
- **ุงููุธููุฉ:** ุฅุถุงูุฉ questionsApi ุฅูู Redux store
- **ุงููุญุชูู:** 
  - Import ููู questionsApi
  - ุฅุถุงูุฉ reducer ู middleware

---

## ๐ง **ุงููููุงุช ุงููุญุฏุซุฉ:**

### 1. **`src/app/TrainingContentManagement/QuestionBank/page.tsx`** โ
- **ุงูุชุบููุฑุงุช:**
  - ุฅุถุงูุฉ `"use client"` directive
  - Import ููู API hooks
  - ุงุณุชุจุฏุงู ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ ุจู API calls
  - ุฅุถุงูุฉ ุญุงูุงุช ุงูุชุญููู ูุงูุฃุฎุทุงุก
  - ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช ูู ุงูุจูุงูุงุช ุงูุญููููุฉ
  - ุชุฌููุน ุงูุฃุณุฆูุฉ ุญุณุจ ุงููุญุชูู ุงูุชุฏุฑูุจู

### 2. **`src/components/questionBank/Table.tsx`** โ
- **ุงูุชุบููุฑุงุช:**
  - ุฅุถุงูุฉ interface ููู props
  - ุงุณุชูุจุงู ุงูุฃุณุฆูุฉ ูู ุงูู API
  - ุฅุถุงูุฉ fallback ููุจูุงูุงุช ุงูุซุงุจุชุฉ
  - ุชุญุฏูุซ ุงูุฌุฏูู ูุนุฑุถ ูุนูููุงุช ุงูุฃุณุฆูุฉ
  - ุฅุถุงูุฉ ุฃููุงู ููุตุนูุจุฉ ูุฃููุงุน ุงูุฃุณุฆูุฉ
  - ุนุฑุถ ูุนูููุงุช ุงูููุดุฆ

---

## ๐ **API Endpoints ุงููุณุชุฎุฏูุฉ:**

### 1. **`GET /api/questions`** โ
- **ุงููุธููุฉ:** ุฌูุจ ุฌููุน ุงูุฃุณุฆูุฉ
- **ุงูุงุณุชุฌุงุจุฉ:** `QuestionsResponse` (array of questions)
- **ุงูุงุณุชุฎุฏุงู:** `useGetQuestionsQuery()`

### 2. **`GET /api/questions/stats`** โ
- **ุงููุธููุฉ:** ุฌูุจ ุฅุญุตุงุฆูุงุช ุงูุฃุณุฆูุฉ
- **ุงูุงุณุชุฌุงุจุฉ:** ุฅุญุตุงุฆูุงุช ููุตูุฉ
- **ุงูุงุณุชุฎุฏุงู:** `useGetQuestionsStatsQuery()`

### 3. **Endpoints ุฃุฎุฑู (ุฌุงูุฒุฉ ููุงุณุชุฎุฏุงู):**
- `GET /api/questions/:id` - ุฌูุจ ุณุคุงู ูุงุญุฏ
- `POST /api/questions` - ุฅุถุงูุฉ ุณุคุงู ุฌุฏูุฏ
- `PUT /api/questions/:id` - ุชุญุฏูุซ ุณุคุงู
- `DELETE /api/questions/:id` - ุญุฐู ุณุคุงู

---

## ๐ **Interfaces ุงููุณุชุฎุฏูุฉ:**

### **Question Interface:**
```typescript
interface Question {
  id: number;
  text: string;
  type: QuestionType;
  skill: QuestionSkill;
  difficulty: QuestionDifficulty;
  chapter: number;
  contentId: number;
  createdById: string;
  createdAt: string;
  updatedAt: string;
  options: QuestionOption[];
  content: QuestionContent;
  createdBy: QuestionCreatedBy;
}
```

### **Enums:**
```typescript
enum QuestionType {
  MULTIPLE_CHOICE = 'MULTIPLE_CHOICE',
  TRUE_FALSE = 'TRUE_FALSE'
}

enum QuestionDifficulty {
  EASY = 'EASY',
  MEDIUM = 'MEDIUM',
  HARD = 'HARD',
  VERY_HARD = 'VERY_HARD'
}

enum QuestionSkill {
  RECALL = 'RECALL',
  COMPREHENSION = 'COMPREHENSION',
  DEDUCTION = 'DEDUCTION'
}
```

---

## ๐ฏ **ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ:**

### 1. **ุฅุญุตุงุฆูุงุช ุญููููุฉ** โ
- ุฅุฌูุงูู ุงูุฃุณุฆูุฉ ูู API
- ุนุฏุฏ ุงูุฃุณุฆูุฉ ุงููุดุทุฉ
- ุนุฏุฏ ุงูููุงุฏ ุงูุฏุฑุงุณูุฉ
- ุชุฌููุน ุงูุฃุณุฆูุฉ ุญุณุจ ุงููุญุชูู

### 2. **ุนุฑุถ ููุตู ููุฃุณุฆูุฉ** โ
- ูุต ุงูุณุคุงู
- ููุน ุงูุณุคุงู (ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ / ุตุญ ุฃู ุฎุทุฃ)
- ูุณุชูู ุงูุตุนูุจุฉ ูุน ุฃููุงู
- ูุนูููุงุช ุงูููุดุฆ
- ุงููุตู ุงูุฏุฑุงุณู

### 3. **ุญุงูุงุช ุงูุชุญููู ูุงูุฃุฎุทุงุก** โ
- ุดุงุดุฉ ุชุญููู ุฃุซูุงุก ุฌูุจ ุงูุจูุงูุงุช
- ุดุงุดุฉ ุฎุทุฃ ุนูุฏ ูุดู ุงูุชุญููู
- ุฑุณุงุฆู ูุงุถุญุฉ ูููุณุชุฎุฏู

### 4. **Fallback ููุจูุงูุงุช ุงูุซุงุจุชุฉ** โ
- ุฅุฐุง ูุดู ุงูู APIุ ูุชู ุนุฑุถ ุงูุจูุงูุงุช ุงูุซุงุจุชุฉ
- ุถูุงู ุนูู ุงูุตูุญุฉ ูู ุฌููุน ุงูุญุงูุงุช

---

## ๐ **ุชุฏูู ุงูุจูุงูุงุช:**

### **1. ุชุญููู ุงูุตูุญุฉ:**
```
Page Load โ API Call โ Loading State โ Data Display
```

### **2. ูู ุญุงูุฉ ุงูุฎุทุฃ:**
```
Page Load โ API Call โ Error State โ Fallback Data
```

### **3. ุชุญุฏูุซ ุงูุจูุงูุงุช:**
```
User Action โ API Call โ Cache Update โ UI Update
```

---

## ๐จ **ุงูุชุญุณููุงุช ุงูุจุตุฑูุฉ:**

### 1. **ุฃููุงู ุงูุตุนูุจุฉ:**
- **ุณูู:** ุฃุฎุถุฑ
- **ูุชูุณุท:** ุฃุตูุฑ
- **ุตุนุจ:** ุจุฑุชูุงูู
- **ุตุนุจ ุฌุฏุงู:** ุฃุญูุฑ

### 2. **ุฃููุงุน ุงูุฃุณุฆูุฉ:**
- **ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ:** ุฃุฒุฑู
- **ุตุญ ุฃู ุฎุทุฃ:** ุฑูุงุฏู

### 3. **ูุนูููุงุช ุงูููุดุฆ:**
- ุงุณู ุงูููุดุฆ
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุชุงุฑูุฎ ุงูุฅูุดุงุก

---

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑู):**

### Phase 1: ุชุญุณููุงุช ุฅุถุงููุฉ
- [ ] ุฅุถุงูุฉ ููุชุฑุฉ ููุฃุณุฆูุฉ ุญุณุจ ุงูููุน ูุงูุตุนูุจุฉ
- [ ] ุฅุถุงูุฉ ุจุญุซ ูู ุงูุฃุณุฆูุฉ
- [ ] ุฅุถุงูุฉ ุชุฑุชูุจ ููุฃุณุฆูุฉ

### Phase 2: ููุฒุงุช ุฌุฏูุฏุฉ
- [ ] ุฅุถุงูุฉ ุตูุญุฉ ุฅูุดุงุก ุณุคุงู ุฌุฏูุฏ
- [ ] ุฅุถุงูุฉ ุตูุญุฉ ุชุนุฏูู ุงูุณุคุงู
- [ ] ุฅุถุงูุฉ ุญุฐู ุงูุฃุณุฆูุฉ

### Phase 3: ุชุญุณููุงุช UX
- [ ] ุฅุถุงูุฉ pagination ููุฃุณุฆูุฉ
- [ ] ุฅุถุงูุฉ infinite scroll
- [ ] ุฅุถุงูุฉ drag & drop ููุชุฑุชูุจ

---

## ๐ก **ููุงุญุธุงุช ูููุฉ**

### โ **ุงูุชูุงูู:**
- ูุนูู ูุน ุงูุจูุงูุงุช ุงูุญููููุฉ ูู API
- Fallback ููุจูุงูุงุช ุงูุซุงุจุชุฉ ูู ุญุงูุฉ ุงูุฎุทุฃ
- ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ

### ๐ **ุงูุฃูุงู:**
- ุงุณุชุฎุฏุงู authentication token
- ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
- ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ

### ๐ฑ **ุงูุงุณุชุฌุงุจุฉ:**
- ูุนูู ุนูู ุฌููุน ุงูุฃุญุฌุงู
- ุฌุฏูู responsive
- ุชุฌุฑุจุฉ mobile ูุญุณูุฉ

---

## ๐ฏ **ุงูุฎูุงุตุฉ**

ุชู ุจูุฌุงุญ ุชุญุฏูุซ ุตูุญุฉ ุจูู ุงูุฃุณุฆูุฉ ูุงุณุชุฎุฏุงู ุงูู API ูุน:

- โ **API Integration** ูุงูู ูุน RTK Query
- โ **ุฅุญุตุงุฆูุงุช ุญููููุฉ** ูู ุงูุจูุงูุงุช
- โ **ุนุฑุถ ููุตู** ููุฃุณุฆูุฉ ูุน ุฌููุน ุงููุนูููุงุช
- โ **ุญุงูุงุช ุงูุชุญููู ูุงูุฃุฎุทุงุก** ูุน fallback
- โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ** ูุน ุชุญุฏูุซุงุช ููุฑูุฉ

ุงูุตูุญุฉ ุงูุขู ุชุนูู ูุน ุงูุจูุงูุงุช ุงูุญููููุฉ ูู ุงูู API! ๐

---

**ุชุงุฑูุฎ ุงูุชุญุฏูุซ:** 21 ููุงูุฑ 2024  
**ุงูุญุงูุฉ:** โ ููุชูู  
**ุงูููุช ุงููุณุชุบุฑู:** ~45 ุฏูููุฉ  
**ุงูุชูููู:** โญโญโญโญโญ

๐ **ุชู ุชุญุฏูุซ ุตูุญุฉ ุจูู ุงูุฃุณุฆูุฉ ุจูุฌุงุญ!** ๐

